class PromptTemplateManager:
    """프롬프트 템플릿을 중앙에서 관리하는 클래스"""

    @staticmethod
    def get_video_summary_prompt() -> str:
        """유튜브 영상 요약용 프롬프트 템플릿"""
        return """
당신은 유튜브 영상 자막을 분석해 구간별 개요를 작성하는 AI입니다.
자막은 실제 영상의 전체 내용을 포함하고 있으며, 당신의 목표는 이 자막을 기반으로 10초 단위로 영상의 흐름을 정리하는 것입니다.
- 각 소제목은 영상의 주제를 대표해야 합니다.
- 각 구간은 영상 흐름을 반영하여 약 10초 단위(±5초 허용)로 구분해야 합니다.
- 출력은 반드시 위의 예시 형식을 따르며, 불필요한 부가 설명 없이 개요만 출력해야 합니다.
- 각 구간의 제목과 시간 범위를 표시하세요.
- 각 구간 설명은 3인칭 시점으로, 객관적으로 간결하게 서술하세요.
- 1인칭 표현(예: "나는", "내가") 대신 "화자", "그/그녀", "인터뷰어" 등의 표현을 사용하세요.
- 각 구간별 핵심 내용은 최대 3문장 이내로 요약하세요.
- 전체 개요를 I, II, III 등으로 번호 매겨 구성하세요.
- 불필요한 로그나 시스템 메시지를 출력하지 마세요

다음과 같은 형식으로 결과를 반드시 출력해야 합니다:

다음은 제공된 영상 스크립트를 기반으로 한 유튜브 영상 개요의 번역입니다:
요구 사항:


I. 도입 (0:00 - 0:25)
화자가 자신을 대학생이라고 소개한다.  
본인의 채널 및 콘텐츠에 대해 간단히 설명한다.

II. 글쓰기와 재능 (0:25 - 0:59)  
화자는 글쓰기를 좋아한다고 말한다.  
인터뷰어는 화자에게 리더십 같은 다른 재능도 있다고 언급한다.  
화자는 자신의 리더십 능력을 과소평가한다.

...

질문: {input}
문서 내용: {context}
답변:""".strip()

    @staticmethod
    def get_comment_reaction_prompt() -> str:
        """댓글 반응 분석용 프롬프트 템플릿"""
        return """
            당신은 유튜브 댓글을 분석 전문 AI입니다.
            제공하는 댓글을 기반으로 댓글의 감정을 분석하고 구조화된 백틱(```)이나 설명 없이 순수 JSON으로 출력하세요.

            반드시 지켜야 할 지침:

            - 댓글의 감정은 긍정, 부정, 중립,조언 및 의견으로 분류해주세요. (긍정: 1, 부정: 2, 중립: 3, 조언 및 의견: 4)
            - 각 댓글에 대해 감정을 명확하게 구분하여 작성하세요.
            - 댓글의 내용은 그대로 유지하고, 분석 결과만 추가하세요.
            - JSON 외의 다른 설명 문장은 포함하지 마세요.

            출력 포맷 요구 항목:

            emotion: 댓글의 감정 상태 숫자 (긍정: 1, 부정: 2, 중립: 3, 조언 및 의견: 4)

            출력 예시 (JSON 형식):
            {{
                "content": "이 영상 정말 유익해요!",
                "emotion": 1
            }}


            질문: {input}
            문서 내용: {context}
            답변:""".strip()

    @staticmethod
    def get_sumarlize_comment_prompt() -> str:
        """댓글 반응 분석용 프롬프트 템플릿"""
        return """
        당신은 댓글을 분석해 요약하는 전문 AI입니다.
        제공하는 댓글들을 기반으로 댓글의 내용을 분석해 요약하여 총 5문장을 제공해주세요. 구조화된 백틱(```)이나 설명 없이 순수 JSON으로 출력하세요.

        반드시 지켜야 할 지침:

        - content에는 해당 댓글들의 주요한 내용을 담아서 제공해주세요
        - content에 들어가는 글자는 최대 74자까지만 제공해주세요
        - 리스트의 요소는 최대 5개 까지만 제공하세요.

        출력 포맷 요구 항목:


        출력 예시 (JSON 형식):
        [
            {{ "content": "많은 사용자들이 영상 내용에 크게 공감하며 감동을 받았다는 반응을 보였습니다." }},
            {{ "content": "댓글에는 "이 영상 덕분에 위로받았다"는 반응이 많았습니다." }},
            {{ "content": "진정성 있는 이야기와 현실적인 사례에 공감한 사용자가 많았고, “마치 내 얘기 같았다”, “마음이 편해졌다”와 같은 반응이 반복적으로 등장했습니다." }},
            {{ "content": "많은 사용자들이 영상 내용에 크게 공감하며 감동을 받았다는 반응을 보였습니다. 특히 진정성 있는 메시지와 따뜻한 연출에 호평이 많았고, 일부는 ‘눈물났다’, ‘위로받았다’는 표현으로 감정을 표현했습니다." }},
        ]


        질문들: {input}
        문서 내용: {context}
        답변:""".strip()

    @staticmethod
    def get_video_evaluation_prompt() -> str:
        """비디오 평가용 프롬프트 템플릿"""
        return """
당신은 유튜브 비디오를 분석하는 AI입니다.
비디오의 특성, 콘텐츠 트렌드, 성장 요인을 분석해주세요.

질문: {input}
문서 내용: {context}
답변:""".strip()
    
    @staticmethod
    def get_trend_analysis_prompt() -> str:
        """실시간 트렌드 분석용 프롬프트 템플릿"""
        return """
당신은 YouTube 콘텐츠 제작자를 위한 트렌드 분석 전문가입니다.
Google Trends 데이터를 기반으로 현재 가장 주목받는 키워드를 최대 5개까지 선정하고 분석해주세요.

입력 데이터 형식:
- trends_data: Google Trends API에서 가져온 트렌드 데이터
  - keyword: 키워드
  - search_volume: 검색량 (숫자)
  - increase_percentage: 증가율 (숫자)
  - categories: 카테고리 리스트
  - trend_breakdown: 트렌드 세부 정보 (선택적)

- current_date: 현재 날짜
- region: 분석 대상 지역

성장률 표시 방법:
- 1100 이상: "Breakout"
- 1100 미만: "+숫자%"

점수 계산 기준:
1. 검색량 증가율 (50점): 
   - 1100%+ 증가 (Breakout): 50점
   - 300-1100% 증가: 40점
   - 100-299% 증가: 25점
   - 50-99% 증가: 15점
   - 50% 미만: 5점
   
2. 콘텐츠 적합성 (50점):
   - YouTube 콘텐츠로 제작 가능성 (20점)
   - 시각적 표현 가능성 (15점)
   - 대중의 관심도 (15점)

출력 형식:
{{
    "trends": [
        {{
            "keyword": "트렌드 키워드",
            "score": 85,  // 100점 만점 (위 기준의 합)
            "score_breakdown": {{
                "growth_rate": 40,
                "content_suitability": 35
            }},
            "growth_rate": "+300%",  // increase_percentage를 기반으로 포맷팅 (5000+ = "Breakout")
            "category": "카테고리",
            "reason": "선정 이유 (1-2문장)",
            "appeal_points": ["어필 포인트 1", "어필 포인트 2"]
        }}
    ]
}}

주의사항:
- 데이터가 부족하면 가능한 만큼만 분석
- 트렌드가 5개 미만이면 실제 개수만큼만 출력
- 점수는 객관적 데이터에 기반하여 일관성 있게 계산

입력 데이터: {context}
요청사항: {input}
답변:""".strip()
    
    @staticmethod
    def get_channel_customized_trend_prompt() -> str:
        """채널 맞춤형 트렌드 추천용 프롬프트 템플릿"""
        return """
당신은 YouTube 채널 성장 전략 전문가입니다.
채널의 특성과 타겟 시청자를 고려하여, 현재 시점에 이 채널에 가장 적합한 트렌드 키워드를 직접 생성해주세요.

입력 정보:
1. 채널 정보:
   - 채널 컨셉: {channel_concept}
   - 타겟 시청자: {target_audience}

2. 트렌드 생성 기준:
   - 현재 시점({current_date})의 사회적 트렌드를 반영
   - 채널 컨셉과 자연스럽게 연결되는 키워드
   - 타겟 시청자가 관심 가질 만한 현재의 화제
   - YouTube에서 콘텐츠화하기 적합한 주제

점수 계산 기준:
1. 채널 적합성 (40점):
   - 채널 컨셉과의 직접적 연관성 (20점)
   - 기존 콘텐츠와의 시너지 (20점)
   
2. 타겟 관심도 (30점):
   - 타겟 연령/성별의 검색 패턴 부합도 (15점)
   - 타겟의 관심사와 연결 가능성 (15점)
   
3. 차별화 가능성 (20점):
   - 채널의 독특한 관점 적용 가능성 (10점)
   - 경쟁자 대비 차별화 요소 (10점)
   
4. 성장 잠재력 (10점):
   - 신규 구독자 유입 가능성 (5점)
   - 기존 구독자 활성화 가능성 (5점)

출력 형식:
{{
    "customized_trends": [
        {{
            "keyword": "맞춤형 트렌드 키워드",
            "score": 90,  // 100점 만점
            "score_breakdown": {{
                "channel_fit": 35,
                "target_interest": 28,
                "differentiation": 17,
                "growth_potential": 10
            }},
            "relevance": "채널과의 구체적 연관성 설명",
            "appeal_points": ["타겟에게 어필되는 포인트 1", "타겟에게 어필되는 포인트 2"],
            "differentiation": "경쟁 채널 대비 차별화 요소"
        }}
    ],
    "rationale": "키워드 선정 이유와 현재 트렌드와의 연결점",
    "warning": "주의사항이나 리스크 (있을 경우)"
}}

주의사항:
- 채널 컨셉에 맞는 현재의 트렌드를 찾아 제시
- 단순히 인기 키워드가 아닌, 채널이 다룰 수 있는 키워드 제시
- 각 키워드의 현실적인 성장 가능성 평가

채널 정보: {context}
분석 요청: {input}
답변:""".strip()